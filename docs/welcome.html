<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Godhra Jamaat</title>
  <meta name="author" content="Burhanuddin Hamzabhai">
<link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
<script type="text/javascript" src="test/credentials.json"></script>
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-database.js"></script>
<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-analytics.js"></script>

<style>
  table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
  }
  
  td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
  }
  
  tr:nth-child(even) {
    background-color: #dddddd;
  }
  </style>
  <style type="text/css">
  body{
   background-color: #009866;
background-image: url("data:image/svg+xml,%3Csvg width='84' height='84' viewBox='0 0 84 84' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M84 23c-4.417 0-8-3.584-8-7.998V8h-7.002C64.58 8 61 4.42 61 0H23c0 4.417-3.584 8-7.998 8H8v7.002C8 19.42 4.42 23 0 23v38c4.417 0 8 3.584 8 7.998V76h7.002C19.42 76 23 79.58 23 84h38c0-4.417 3.584-8 7.998-8H76v-7.002C76 64.58 79.58 61 84 61V23zM59.05 83H43V66.95c5.054-.5 9-4.764 9-9.948V52h5.002c5.18 0 9.446-3.947 9.95-9H83v16.05c-5.054.5-9 4.764-9 9.948V74h-5.002c-5.18 0-9.446 3.947-9.95 9zm-34.1 0H41V66.95c-5.053-.502-9-4.768-9-9.948V52h-5.002c-5.184 0-9.447-3.946-9.95-9H1v16.05c5.053.502 9 4.768 9 9.948V74h5.002c5.184 0 9.447 3.946 9.95 9zm0-82H41v16.05c-5.054.5-9 4.764-9 9.948V32h-5.002c-5.18 0-9.446 3.947-9.95 9H1V24.95c5.054-.5 9-4.764 9-9.948V10h5.002c5.18 0 9.446-3.947 9.95-9zm34.1 0H43v16.05c5.053.502 9 4.768 9 9.948V32h5.002c5.184 0 9.447 3.946 9.95 9H83V24.95c-5.053-.502-9-4.768-9-9.948V10h-5.002c-5.184 0-9.447-3.946-9.95-9zM50 50v7.002C50 61.42 46.42 65 42 65c-4.417 0-8-3.584-8-7.998V50h-7.002C22.58 50 19 46.42 19 42c0-4.417 3.584-8 7.998-8H34v-7.002C34 22.58 37.58 19 42 19c4.417 0 8 3.584 8 7.998V34h7.002C61.42 34 65 37.58 65 42c0 4.417-3.584 8-7.998 8H50z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  }

html{
  -webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
-o-user-select: none;
user-select: none;
}
.content{
    display: none;
}
.loader{
    height: 100vh;
    width: 100vw;
    overflow: hidden;
    background-color: #009866;
    position: absolute;
}
.loader>div{
    height: 100px;
    width: 100px;
    border: 15px solid #fff;
    border-top-color: #F1C40F;
    position: absolute;
    margin: auto;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: 50%;
    animation: spin 1.5s infinite linear;
}
@keyframes spin{
    100%{
        transform: rotate(360deg);
    }
}
</style>
</head>
<body oncontextmenu="return false">
  <div class="loader">
        <div></div>
    </div>
	<section class="content text-gray-600 body-font h-screen">
    
  <div class="container mx-auto flex px-5 items-center justify-center flex-col align-middle h-screen">
    <h1 id="wText" class="sm:text-3xl text-2xl text-center font-bold title-font text-white mt-10 mb-10"></h1>
	<iframe scrolling src="https://account3.livebox.co.in/livebox/player/?chnl=dawoodi" class="lg:w-full md:w-full w-full h-full mb-10 object-cover object-center rounded" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen allow="autoplay" ></iframe>  
    <div class="text-center lg:w-2/3 w-full">
      <div class="flex justify-center">
        <button id="logoutBtn" class="inline-flex font-bold text-green-900 bg-white mb-10 border-0 py-2 px-6 focus:outline-none hover:bg-green-600 hover:text-white rounded text-lg">Logout</button>
      </div>
    </div>
  </div>
</section>
<table id="forAdmin" style="visibility: hidden;">
  <tr><th id="totalCount" colspan="4" style="text-align: center;"></th></tr>
  <tr>
<th>Its Num</th>
<th>Name</th>
<th>Login Day</th>
<th>Login Time</th>
</tr>
  <tbody id="itsdata"></tbody>
</table>
	<!-- <footer class="text-white body-font">
  
  <div class=""  style="background:#009866;">
    <div class="container mx-auto py-4 px-5 flex flex-wrap flex-col sm:flex-row">
      <p class="text-white text-sm text-center sm:text-left">Developed By â€”
        <a href="http://dot53.in/websolutions.html" class="text-white ml-1" target="_blank" rel="noopener noreferrer">Dot53 Web Solutions</a>
      </p>
      <span class="sm:ml-auto sm:mt-0 mt-2 sm:w-auto w-full sm:text-left text-center text-white text-sm"><a href="https://burhanuddinhamzabhai.dev/">Burhanuddin Hamzabhai</a></span>
    </div>
  </div>
</footer> -->
<script>
        $(window).on('load',function(){
            $(".loader").fadeOut(1000);
            $(".content").fadeIn(1000);
        });
    </script>
<script type="text/javascript">
 $(document).ready(function(){  
	 window.history.replaceState('','','/');
  $("#logoutBtn").click(function(){
   document.cookie = "ITS=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
   window.location.href="index.html";
  });

  var d=document.cookie;
  var name = "ITS=";
  var decodedCookie = decodeURIComponent(document.cookie);
  var ca = decodedCookie.split(';');
  var cv="";
  for(var i = 0; i <ca.length; i++) {
   var c = ca[i];
   while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      cv=c.substring(name.length, c.length);
      break;
    }
  }
  if(cv=="")
  {
   window.location.href="index.html";
  }
  else
  {
   $("#wText").append("Welcome "+cv);

   if(cv == "Husain bhai  Saifuddin bhai Bhikhapurwala"){
   document.getElementById('forAdmin').style.visibility = "visible";
    var credentials = JSON.parse(data)
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
  apiKey: credentials[0].apiKey,
  authDomain: credentials[0].authDomain,
  databaseURL: credentials[0].databaseURL,
  projectId: credentials[0].projectId,
  storageBucket: credentials[0].storageBucket,
  messagingSenderId: credentials[0].messagingSenderId,
  appId: credentials[0].appId,
  measurementId: credentials[0].measurementId
};
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
 var database = firebase.database()
    var database = firebase.database();
    firebase.database().ref('Ashara/').on('value',(snap)=>{
    var totalRecord =  snap.numChildren();
    console.log("Total Record : "+totalRecord);
   
    var totalRecord =  snap.numChildren();
    var totalRecordCount = document.getElementById('totalCount');
    
    var table = document.getElementById('itsdata');
    snap.forEach(function(childSnapshot) {
      var childKey = childSnapshot.key;
      var childData = childSnapshot.val();
      totalRecordCount.innerHTML = "Total Records " + "for "+ childData.loginDay + " : " +totalRecord;
      let row = table.insertRow();
      let its = row.insertCell(0);
      its.innerHTML = childData.its;
      let name = row.insertCell(1);
      name.innerHTML = childData.user;
      let day = row.insertCell(2);
      day.innerHTML = childData.loginDay;
      let time = row.insertCell(3);
      time.innerHTML = childData.loginTime;
      
    });
  });
   }
  }
  
});
</script>
<script>
      window.oncontextmenu = function () {
            return false;
        }
        $(document).keydown(function (event) {
            if (event.keyCode == 123) {
                return false;
            }
            else if ((event.ctrlKey && event.shiftKey && event.keyCode == 73) || (event.ctrlKey && event.shiftKey && event.keyCode == 74)) {
                return false;
            }
        });  
</script>
</body>
</html>

